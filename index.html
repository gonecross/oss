<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>小小发明家</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css" />
</head>

<body class="p-2">
  <div class="container-fluid">
    <h1 class="mb-4 text-center">小小发明家</h1>
    <div class="row gx-2 gy-2">
      <!-- 资源显示区域 -->
      <div class="col-12 col-md-3 order-2 order-md-1">
        <div class="card mb-2">
          <div class="card-body">
            <h5 class="card-title">资源概览</h5>
            <p>想法(ideas): <span id="idea-count">0</span></p>
            <p>灵感(inspiration): <span id="inspiration-count">0</span></p>
            <p>人口(population): <span id="population-count">10</span>/<span id="max-population-count">10</span></p>
            <p>受教育人口(educated population): <span id="educated-population-count">0</span></p>
          </div>
        </div>
        <div class="card mb-2">
          <div class="card-body">
            <h5 class="card-title">木材(wood)</h5>
            <p>数量: <span id="wood-count">0</span> / <span id="wood-capacity">1000</span></p>
            <p>产量: <span id="wood-rate">0</span>/s</p>
          </div>
        </div>
        <div class="card mb-2">
          <div class="card-body">
            <h5 class="card-title">金属(metal)</h5>
            <p>数量: <span id="metal-count">0</span> / <span id="metal-capacity">500</span></p>
            <p>产量: <span id="metal-rate">0</span>/s</p>
          </div>
        </div>
        <button class="btn btn-warning w-100 mb-3" onclick="clickToGetIdea()">点击获取想法</button>
      </div>

      <!-- 中间为科技树展示 -->
      <div class="col-12 col-md-6 order-1 order-md-2">
        <div id="tech-graph-container" class="border bg-white p-2" style="overflow:auto; height:80vh;">
          <svg id="tech-graph" style="width:2000px; height:1200px;"></svg>
        </div>
      </div>

      <!-- 右侧详情面板 -->
      <div class="col-12 col-md-3 order-3">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">科技详情</h5>
            <hr>
            <p><strong>科技名称:</strong> <span id="detail-tech-name"></span></p>
            <p><strong>前置科技:</strong> <span id="detail-requirements"></span></p>
            <p><strong>解锁条件:</strong> <span id="detail-cost"></span></p>
            <p><strong>效果:</strong> <span id="detail-effects"></span></p>
            <p><strong>描述:</strong> <span id="detail-description"></span></p>
            <button id="unlock-tech-btn" class="btn btn-primary w-100 mt-2" onclick="attemptUnlock()">解锁科技</button>
            <p id="unlock-error" class="text-danger mt-2" style="display:none;"></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="js/techData.js"></script>
  <script src="js/main.js"></script>
</body>

</html>